<!DOCTYPE html>
<html>
<meta charset="utf-8">
<link rel="stylesheet" href="../css/company_style/company_style.css" />
<link href="https://cdn.jsdelivr.net/npm/boxicons@2.0.5/css/boxicons.min.css" rel="stylesheet" />
<link rel="shortcut icon" href="../assets/logo/Remo-icon.ico" type="image/x-icon" />
<!--===== bootstrap cdn =====-->
<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/css/bootstrap.min.css" rel="stylesheet"
  integrity="sha384-EVSTQN3/azprG1Anm3QDgpJLIm9Nao0Yz1ztcQTwFspd3yD65VohhpuuCOmLASjC" crossorigin="anonymous" />
<script src="https://cdnjs.cloudflare.com/ajax/libs/crypto-js/4.1.1/crypto-js.min.js"
  integrity="sha512-E8QSvWZ0eCLGk4km3hxSsNmGWbLtSCSUcewDQPQWZF6pEU8GlT8a5fF32wOl1i8ftdMhssTrF/OhyGWwonTcXA=="
  crossorigin="anonymous" referrerpolicy="no-referrer"></script>

<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.8.2/font/bootstrap-icons.css">

<title>Company Register</title>

<body>
  <div class="container-fluid row align-items-center justify-content-center ms-0 me-0 ps-0 pe-0">
    <span class="main-box col col-sm-9 col-md-7 col-lg-5 col-xxl-3.2">
      <!-- REGISTER BOX -->
      <section class="form registered pt-3 pb-3" id="login-in">
        <h3 class="title">Register your startup here</h3>
        <!--Email-->
        <div class="box ms-0 me-0 input-group flex-nowrap">
          <span class="input-group-text" id="addon-wrapping">
            <i class="bx bx-envelope icon"></i></span>
          <input required type="text" id="Email-in" name="Email-in" placeholder="Business Email"
            class="input form-control" />
        </div>
        <!--Company Person First Name-->
        <div class="box ms-0 me-0 input-group flex-nowrap">
          <span class="input-group-text" id="addon-wrapping">
            <i class="bx bx-user icon"></i></span>
          <input required type="text" id="cp_firstname" name="cp_firstname" placeholder="Company Person First Name"
            class="input form-control" />
        </div>
        <!--Last Name-->
        <div class="box ms-0 me-0 input-group flex-nowrap">
          <span class="input-group-text" id="addon-wrapping">
            <i class="bx bx-user icon"></i></span>
          <input required type="text" id="cp_lastname" name="cp_lastname" placeholder="Company Person Last Name"
            class="input form-control" />
        </div>
        <!--Contact Number-->
        <div class="box ms-0 me-0 input-group flex-nowrap">
          <span class="input-group-text" id="addon-wrapping">
            <i class="bx bx-phone icon"></i></span>
          <input required type="number" id="contact" name="contact" placeholder="Contact No."
            class="input form-control" />
        </div>
        <!--Company Name-->
        <div class="box ms-0 me-0 input-group flex-nowrap">
          <span class="input-group-text" id="addon-wrapping">
            <i class="bx bx-building icon"></i></span>
          <input required type="text" id="companyname" name="companyname" placeholder="Company Name"
            class="input form-control" />
        </div>
        <!--Company Website-->
        <div class="box ms-0 me-0 input-group flex-nowrap">
          <span class="input-group-text" id="addon-wrapping">
            <i class="bx bx-link icon"></i></span>
          <input required type="text" id="website" name="website" placeholder="Website Link"
            class="input form-control" />
        </div>
        <!--Company Description-->
        <div class="box ms-0 me-0 input-group flex-nowrap">
          <span class="input-group-text" id="addon-wrapping">
            <i class="bx bx-detail icon"></i></span>

          <textarea required type="text" id="description" name="description" placeholder="Company Description"
            class="input form-control"></textarea>
        </div>
        <!--Social Media Links-->
        <div class="box ms-0 me-0 input-group flex-nowrap">
          <span class="input-group-text" id="addon-wrapping">
            <i class="bx bx-link icon"></i></span>
          <input required type="url" id="social_media_links" name="social_media_links" placeholder="Social Media Links"
            class="input form-control" />
        </div>

        <!--Password-->
        <div class="ms-0 me-0 box input-group flex-nowrap">
          <span class="input-group-text" id="addon-wrapping">
            <i class="bx bx-lock-alt icon"></i></span>
          <input required id="password" type="password" name="password" placeholder="Password " minlength="4" required
            class="input form-control mb-0" />

          <!-- <label class="input-group-text" for="inputGroupSelect02" style="background-color: white;">
                      <i class="bi bi-eye" id="showPassword"></i>
                      <i class="bi bi-eye-slash" id="hidePassword" style="display: none;"></i>
                    </label> -->
        </div>
        <!--Confirm Password-->
        <div class="ms-0 me-0 box input-group flex-nowrap">
          <span class="input-group-text" id="addon-wrapping">
            <i class="bx bx-lock-alt icon"></i></span>
          <input required id="conform_password" type="password" name="conform_password" placeholder="Confirm Password "
            minlength="4" required class="input form-control mb-0" />

          <!-- <label class="input-group-text" for="inputGroupSelect02" style="background-color: white;">
                        <i class="bi bi-eye" id="showPassword"></i>
                        <i class="bi bi-eye-slash" id="hidePassword" style="display: none;"></i>
                      </label> -->
        </div>
        <!--<div>
                  <input required type="checkbox" name="rememberMe" value="Y" /> Remember me
                </div>-->
        <!--<div>
                  <a href="company_forgetPassword.html" class="forgot" id="forgot-button">Forgot password?</a>
                </div>-->
        <div class="d-grid gap-2 col-6 mx-auto">
          <button type="submit" id="signUpBtn" class="btn text-white">Register</button>
        </div>
        <!--<span class="or-container"><span class="line-separator"></span> <span class="or-label">or</span><span
                    class="line-separator"></span></span>
                <div class="text-center d-grid col-12 mx-auto">
                  <a class="btn text-white" role="button" style="text-transform:none">
                    <img width="20px" style="margin-bottom:3px; margin-right:5px" alt="Google sign-in"
                      src="https://upload.wikimedia.org/wikipedia/commons/thumb/5/53/Google_%22G%22_Logo.svg/512px-Google_%22G%22_Logo.svg.png" />
                    Sign in with Google
                  </a>
                </div>
                <hr>-->
        <div class="text-center">
          <span class="account">Already have an account?</span>
          <span class="signup" id="sign-up"><a class="text-dark" href="company_login.html">Login Here</span>
        </div>

      </section>
    </span>
  </div>
</body>

</html>


<script src="../js/company_register/company_register.js"></script>
<!--===== BOOTSTRAP .JS =====-->
<script src="https://cdn.jsdelivr.net/npm/@popperjs/core@2.9.2/dist/umd/popper.min.js"
  integrity="sha384-IQsoLXl5PILFhosVNubq5LC7Qb9DXgDA9i+tQ8Zj3iwWAwPtgFTxbJ8NT4GN1R8p" crossorigin="anonymous"></script>
<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/js/bootstrap.bundle.min.js"
  integrity="sha384-MrcW6ZMFYlzcLA8Nl+NtUVF0sA7MsXsP1UyJoMp4YLEuNSfAP+JcXn/tWtIaxVXM" crossorigin="anonymous"></script>


<!-- jqeuy -->
<script src="https://ajax.googleapis.com/ajax/libs/jquery/3.6.0/jquery.min.js"></script>

<!--Firebase Libraries-->

<script type="module">
  import { initializeApp } from "https://www.gstatic.com/firebasejs/9.12.1/firebase-app.js";
  import { getDatabase } from "https://www.gstatic.com/firebasejs/9.12.1/firebase-database.js";
  import {
    getAuth, GoogleAuthProvider, signInWithPopup,
    createUserWithEmailAndPassword,
    signInWithEmailAndPassword, sendPasswordResetEmail, onAuthStateChanged
  } from "https://www.gstatic.com/firebasejs/9.12.1/firebase-auth.js";
  import {
    ref,
    set,
    child,
    get,
    onValue,
  } from "https://www.gstatic.com/firebasejs/9.12.1/firebase-database.js";

  // this is credentials 
  const firebaseApp = initializeApp({
    apiKey: "AIzaSyC8G9Wf5tJE-GAiI5dLsmn4lCDGmKjxey8",
    authDomain: "remostart-daf09.firebaseapp.com",
    databaseURL: "https://remostart-daf09-default-rtdb.firebaseio.com",
    projectId: "remostart-daf09",
    storageBucket: "remostart-daf09.appspot.com",
    messagingSenderId: "1072762916132",
    appId: "1:1072762916132:web:99d06258e6ea16ba4437b1"
  });
  const database = getDatabase(firebaseApp);
  const auth = getAuth(firebaseApp);
  const dbRef = ref(getDatabase());
  // signUP function
  var signUpBtn = document
    .getElementById("signUpBtn")
    .addEventListener("click", (e) => {

      var url_string = window.location;
      var url = new URL(url_string);


      var Email, Fname, Lname, Contact, Company_name, Company_website, Company_description, Password, ConformPass, Username, Company_socialmedia_url;

      Email = document.getElementById("Email-in").value;
      Fname = document.getElementById("cp_firstname").value;
      Lname = document.getElementById("cp_lastname").value;
      Contact = document.getElementById("contact").value;
      Company_name = document.getElementById("companyname").value;
      Company_website = document.getElementById("website").value;
      Company_description = document.getElementById("description").value;
      Company_socialmedia_url = document.getElementById("social_media_links").value;
      Password = document.getElementById("password").value;
      ConformPass = document.getElementById("conform_password").value;
      if (Password === ConformPass) {
        createUserWithEmailAndPassword(auth, Email, Password)
          .then((userCredential) => {
            const user = userCredential.user;
            set(ref(database, 'Company/' + user.uid), {
              Email: Email,
              FirstName: Fname,
              LastName: Lname,
              ContactNo: Contact,
              CompanyName: Company_name,
              CompanyWebsite: Company_website,
              CompanyDescripition: Company_description,
              CompanySocialMediaLinks: Company_socialmedia_url

            });
            //console.log("Registered Successfully");
            alert("Registered Successfully", "success", "login-up");
            setTimeout(function () {
              window.location = "../company/company_login.html";
            }, 2000);
          })
          .catch((error) => {
            const errorCode = error.code;
            const errorMessage = error.message;
            // console.log(errorMessage);
            alert(errorCode, "warning", "login-up");
          });


      } else {
        alert("password not matched", "warning", "login-up");
      }


    });

</script>


</script>